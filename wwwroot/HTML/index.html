<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Project Dashboard</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
    <script src="app.js"></script>
    <link rel="stylesheet" href="index.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>

  <body>
    <div class="container" id="loginContainer">
      <h2>Welcome</h2>
      <input type="text" id="username" placeholder="Username" />
      <input type="password" id="password" placeholder="Password" />
      <button id="button2" onclick="login()">Login</button>
      <span class="link" onclick="showRegister()">Sign Up</span>
    </div>

    <div class="container" id="registerContainer" style="display: none">
      <h2>Register</h2>
      <input type="text" id="regUsername" placeholder="Username" />
      <input type="password" id="regPassword" placeholder="Password" />
      <button id="button2" onclick="register()">Register</button>
      <span class="link" onclick="showLogin()"
        >Already have account? Login</span
      >
    </div>

    <div id="dashboardContainer" style="display: none">
      <header class="header">
        <h1>Project Dashboard</h1>
        <p id="welcomeMsg"></p>
      </header>

      <div class="layout">
        <aside class="sidebar">
          <h2>Dashboard</h2>
          <ul>
            <li><button class="side-btn" onclick="showDashboard()">Home</button></li>
            <li>
              <button class="side-btn" onclick="toggleMenu('menu-items')">Items ▾</button>
              <div id="menu-items" class="submenu">
                <button class="side-btn" onclick="showPopup('addItemPopup')">Add Item</button>
                <button class="side-btn" onclick="showPopup('viewItemsPopup')">View Items</button>
              </div>
            </li>
            <li>
              <button class="side-btn" onclick="toggleMenu('menu-contacts')">Contacts ▾</button>
              <div id="menu-contacts" class="submenu">
                <button class="side-btn" onclick="showPopup('addContactPopup')">Add Contact</button>
                <button class="side-btn" onclick="showPopup('viewContactsPopup')">View Contacts</button>
              </div>
            </li>
            <li>
              <button class="side-btn" onclick="toggleMenu('menu-tasks')">Tasks ▾</button>
              <div id="menu-tasks" class="submenu">
                <button class="side-btn" onclick="showPopup('addTaskPopup')">Add Task</button>
                <button class="side-btn" onclick="showPopup('viewTasksPopup')">View Tasks</button>
              </div>
            </li>
            <li>
              <button class="side-btn" onclick="toggleMenu('menu-expenses')">Expenses ▾</button>
              <div id="menu-expenses" class="submenu">
                <button class="side-btn" onclick="showPopup('addExpensePopup')">Add Expense</button>
                <button class="side-btn" onclick="showPopup('viewExpensesPopup')">View Expenses</button>
              </div>
            </li>
            <li>
              <button class="side-btn" onclick="toggleMenu('menu-reports')">Reports ▾</button>
              <div id="menu-reports" class="submenu">
                <button class="side-btn" onclick="showReport('daily')">Daily Report</button>
                <button class="side-btn" onclick="showReport('monthly')">Monthly Report</button>
                <button class="side-btn" onclick="showReport('annual')">Annual Report</button>
              </div>
            </li>
            <li><button class="side-btn" onclick="logout()">Logout</button></li>
          </ul>
        </aside>

        <main class="content">
      <section id="aboutApp" class="about">
        <h2>About This App</h2>
        <p>
          This is a project management dashboard where you can manage
          <strong>Items</strong> and <strong>Contacts</strong>. <br />
          You can add, view, update, or delete records. <br />
          The app uses <strong>AJAX + jQuery</strong> to interact with a
          <strong>REST API backend</strong> seamlessly.
        </p>
      </section>

      <section id="stats" class="stats">
        <h3>Quick Stats</h3>
        <div class="stat-grid">
          <div class="stat-card">
            <h4 id="totalItems">0</h4>
            <p>Total Items</p>
          </div>
          <div class="stat-card">
            <h4 id="totalContacts">0</h4>
            <p>Total Contacts</p>
          </div>
          <div class="stat-card">
            <h4 id="totalTasks">0</h4>
            <p>Total Tasks</p>
          </div>
          <div class="stat-card">
            <h4 id="totalExpenses">0</h4>
            <p>Total Expenses</p>
          </div>
        </div>
      </section>
        </main>
      </div>

      <div id="addItemPopup" class="popup">
        <div class="popup-content">
          <h3>Add Item</h3>
          <input type="text" id="itemName" placeholder="Item Name" />
          <input type="text" id="itemDesc" placeholder="Description" />
          <button id="button" onclick="addItem()">Add</button>
          <button id="button" onclick="closePopup('addItemPopup')">
            Close
          </button>
        </div>
      </div>

      <div id="viewItemsPopup" class="popup">
        <div class="popup-content">
          <h3>Items List</h3>
          <input
            type="text"
            id="searchItem"
            placeholder="Search Items..."
            onkeyup="filterItems()"
          />
          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
            <button id="button3" onclick="exportItems()">Export to Excel</button>
          </div>
          <ul id="itemsList"></ul>
          <button id="button" onclick="viewItems()">Refresh</button>
          <button id="button" onclick="closePopup('viewItemsPopup')">
            Close
          </button>
        </div>
      </div>

      <div id="addContactPopup" class="popup">
        <div class="popup-content">
          <h3>Add Contact</h3>
          <input type="text" id="contactName" placeholder="Name" />
          <input type="text" id="contactPhone" placeholder="Phone" />
          <button id="button" onclick="addContact()">Add</button>
          <button id="button" onclick="closePopup('addContactPopup')">
            Close
          </button>
        </div>
      </div>

      <div id="viewContactsPopup" class="popup">
        <div class="popup-content">
          <h3>Contacts List</h3>
          <input
            type="text"
            id="searchContact"
            placeholder="Search Contacts..."
            onkeyup="filterContacts()"
          />
          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
            <button id="button3" onclick="exportContacts()">Export to Excel</button>
          </div>
          <ul id="contactsList"></ul>
          <button id="button" onclick="viewContacts()">Refresh</button>
          <button id="button" onclick="closePopup('viewContactsPopup')">
            Close
          </button>
        </div>
      </div>

      <div id="updateItemPopup" class="popup">
        <div class="popup-content">
          <h3>Update Item</h3>
          <input type="hidden" id="updateItemId" />
          <input type="text" id="updateItemName" placeholder="Item Name" />
          <input type="text" id="updateItemDesc" placeholder="Description" />
          <button id="button" onclick="updateItem()">Update</button>
          <button id="button" onclick="closePopup('updateItemPopup')">
            Close
          </button>
        </div>
      </div>

      <div id="updateContactPopup" class="popup">
        <div class="popup-content">
          <h3>Update Contact</h3>
          <input type="hidden" id="updateContactId" />
          <input type="text" id="updateContactName" placeholder="Name" />
          <input type="text" id="updateContactPhone" placeholder="Phone" />
          <button id="button" onclick="updateContact()">Update</button>
          <button id="button" onclick="closePopup('updateContactPopup')">
            Close
          </button>
        </div>
      </div>

      <div id="reportsPopup" class="popup">
        <div class="popup-content">
          <h3>Reports</h3>
          <div id="reportsContent"></div>
          <button id="button" onclick="closePopup('reportsPopup')">
            Close
          </button>
        </div>
      </div>

      <!-- Tasks -->
      <div id="addTaskPopup" class="popup">
        <div class="popup-content">
          <h3>Add Task</h3>
          <input type="text" id="taskTitle" placeholder="Title" />
          <input type="text" id="taskDesc" placeholder="Description" />
          <button id="button" onclick="addTask()">Add</button>
          <button id="button" onclick="closePopup('addTaskPopup')">Close</button>
        </div>
      </div>

      <div id="viewTasksPopup" class="popup">
        <div class="popup-content">
          <h3>Tasks List</h3>
          <input type="text" id="searchTask" placeholder="Search Tasks..." onkeyup="filterTasks()" />
          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
            <button id="button3" onclick="exportTasks()">Export to Excel</button>
          </div>
          <ul id="tasksList"></ul>
          <button id="button" onclick="viewTasks()">Refresh</button>
          <button id="button" onclick="closePopup('viewTasksPopup')">Close</button>
        </div>
      </div>

      <div id="updateTaskPopup" class="popup">
        <div class="popup-content">
          <h3>Update Task</h3>
          <input type="hidden" id="updateTaskId" />
          <input type="text" id="updateTaskTitle" placeholder="Title" />
          <input type="text" id="updateTaskDesc" placeholder="Description" />
          <button id="button" onclick="updateTask()">Update</button>
          <button id="button" onclick="closePopup('updateTaskPopup')">Close</button>
        </div>
      </div>

      <!-- Expenses -->
      <div id="addExpensePopup" class="popup">
        <div class="popup-content">
          <h3>Add Expense</h3>
          <input type="text" id="expenseTitle" placeholder="Title" />
          <input type="number" id="expenseAmount" placeholder="Amount" />
          <button id="button" onclick="addExpense()">Add</button>
          <button id="button" onclick="closePopup('addExpensePopup')">Close</button>
        </div>
      </div>

      <div id="viewExpensesPopup" class="popup">
        <div class="popup-content">
          <h3>Expenses List</h3>
          <input type="text" id="searchExpense" placeholder="Search Expenses..." onkeyup="filterExpenses()" />
          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
            <button id="button3" onclick="exportExpenses()">Export to Excel</button>
          </div>
          <ul id="expensesList"></ul>
          <button id="button" onclick="viewExpenses()">Refresh</button>
          <button id="button" onclick="closePopup('viewExpensesPopup')">Close</button>
        </div>
      </div>

      <div id="updateExpensePopup" class="popup">
        <div class="popup-content">
          <h3>Update Expense</h3>
          <input type="hidden" id="updateExpenseId" />
          <input type="text" id="updateExpenseTitle" placeholder="Title" />
          <input type="number" id="updateExpenseAmount" placeholder="Amount" />
          <button id="button" onclick="updateExpense()">Update</button>
          <button id="button" onclick="closePopup('updateExpensePopup')">Close</button>
        </div>
      </div>
    </div>
  </body>
</html>
